(this["webpackJsonpcandy-crush-react"]=this["webpackJsonpcandy-crush-react"]||[]).push([[0],{26:function(t,e,n){},47:function(t,e,n){"use strict";n.r(e);var r=n(1),c=n.n(r),a=n(20),o=n.n(a),u=(n(26),n(11)),i=n(3),s=n(21),f=n(9),l=n.n(f),d=n(10),v=n.n(d),b=n(0),j=["PurpleFish","LankyLama","SillySloth","LizardEyes","BlowBlizzard","AnteaterEars","BulbBear","OstrichOar","CamelLegs","KolaKoala","LionLives","MouthyTiger"],p=function(t){var e=t.score,n=Object(r.useState)(null),c=Object(i.a)(n,2),a=c[0],o=c[1],u=Object(r.useState)(null),f=Object(i.a)(u,2),d=f[0],p=f[1],h=function(){var t=Object(s.a)(l.a.mark((function t(){var e,n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("http://localhost:8000/scores");case 2:e=t.sent,n=Object.keys(e.data.data).map((function(t){return e.data.data[t]})),o(n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();console.log(a);Object(r.useEffect)((function(){h(),p(j[Math.floor(Math.random()*j.length)])}),[]);var g=null===a||void 0===a?void 0:a.sort((function(t,e){return e.score-t.score}));return Object(b.jsxs)("div",{className:"score-board",children:[Object(b.jsxs)("h2",{children:[d," score:",e]}),Object(b.jsx)("h2",{children:"High Scores:"}),null===g||void 0===g?void 0:g.map((function(t,e){return Object(b.jsx)("div",{children:Object(b.jsxs)("h3",{children:[t.username,": ",t.score]})},e)})),Object(b.jsx)("button",{onClick:function(){var t={username:d,score:e};v.a.post("http://localhost:8000/addscore",t).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)})).then(h)},children:"save score"})]})},h=n.p+"static/media/blue-candy.73120c15.png",g=n.p+"static/media/green-candy.599f7016.png",O=n.p+"static/media/orange-candy.f106b2cd.png",m=n.p+"static/media/purple-candy.ae25b8a5.png",y=n.p+"static/media/red-candy.3658b37c.png",x=n.p+"static/media/yellow-candy.a3d87a9b.png",E=n.p+"static/media/blank.fbcb9179.png",S=[h,O,m,y,x,g],D=function(){var t=Object(r.useState)([]),e=Object(i.a)(t,2),n=e[0],c=e[1],a=Object(r.useState)(null),o=Object(i.a)(a,2),s=o[0],f=o[1],l=Object(r.useState)(null),d=Object(i.a)(l,2),v=d[0],j=d[1],h=Object(r.useState)(0),g=Object(i.a)(h,2),O=g[0],m=g[1],y=function(){for(var t=function(t){var e=[t,t+8,t+16,t+24],r=n[t],c=n[t]===E;if(e.every((function(t){return n[t]===r&&!c})))return m((function(t){return t+4})),e.forEach((function(t){return n[t]=E})),{v:!0}},e=0;e<=39;e++){var r=t(e);if("object"===typeof r)return r.v}},x=function(){for(var t=function(t){var e=[t,t+1,t+2,t+3],r=n[t],c=n[t]===E;return[5,6,7,13,14,15,21,22,23,29,30,31,37,38,39,45,46,47,53,54,55,62,63,64].includes(t)?"continue":e.every((function(t){return n[t]===r&&!c}))?(m((function(t){return t+4})),e.forEach((function(t){return n[t]=E})),{v:!0}):void 0},e=0;e<64;e++){var r=t(e);if("continue"!==r&&"object"===typeof r)return r.v}},D=function(){for(var t=function(t){var e=[t,t+8,t+16],r=n[t],c=n[t]===E;if(e.every((function(t){return n[t]===r&&!c})))return m((function(t){return t+3})),e.forEach((function(t){return n[t]=E})),{v:!0}},e=0;e<=47;e++){var r=t(e);if("object"===typeof r)return r.v}},M=function(){for(var t=function(t){var e=[t,t+1,t+2],r=n[t],c=n[t]===E;return[6,7,14,15,22,23,30,31,38,39,46,47,54,55,63,64].includes(t)?"continue":e.every((function(t){return n[t]===r&&!c}))?(m((function(t){return t+3})),e.forEach((function(t){return n[t]=E})),{v:!0}):void 0},e=0;e<64;e++){var r=t(e);if("continue"!==r&&"object"===typeof r)return r.v}},k=function(){for(var t=0;t<=55;t++){if([0,1,2,3,4,5,6,7].includes(t)&&n[t]===E){var e=Math.floor(Math.random()*S.length);n[t]=S[e]}n[t+8]===E&&(n[t+8]=n[t],n[t]=E)}},A=function(t){f(t.target)},L=function(t){j(t.target)},w=function(){var t=parseInt(s.getAttribute("data-id")),e=parseInt(v.getAttribute("data-id"));n[e]=s.getAttribute("src"),n[t]=v.getAttribute("src");var r=[t-1,t-8,t+1,t+8].includes(e),a=y(),o=x(),i=D(),l=M();e&&r&&(l||o||a||i)?(f(null),j(null)):(n[e]=v.getAttribute("src"),n[t]=s.getAttribute("src"),c(Object(u.a)(n)))};return Object(r.useEffect)((function(){!function(){for(var t=[],e=0;e<64;e++){var n=S[Math.floor(Math.random()*S.length)];t.push(n)}c(t)}()}),[]),Object(r.useEffect)((function(){var t=setInterval((function(){y(),x(),D(),M(),k(),c(Object(u.a)(n))}),100);return function(){return clearInterval(t)}}),[y,x,D,M,k,n]),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("div",{className:"game",children:n.map((function(t,e){return Object(b.jsx)("img",{src:t,alt:t,"data-id":e,draggable:!0,onDragStart:A,onDragOver:function(t){return t.preventDefault()},onDragEnter:function(t){return t.preventDefault()},onDragLeave:function(t){return t.preventDefault()},onDrop:L,onDragEnd:w},e)}))}),Object(b.jsx)(p,{score:O})]})};o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(D,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.781ce197.chunk.js.map